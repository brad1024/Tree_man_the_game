<html>
	<head>
		<title>
			Tree_man_the_game

		</title>
		<!-- local file below -->
		<!-- ==================================== -->
		<!--our css file -->
		<link rel='stylesheet' href='Style.css'>

	

		<!-- module below-->
		<!-- ==================================== -->
		<!-- jquery -->
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		<!-- future socket.io here --> 
		<!--<script src="/socket.io/socket.io.js"></script>-->
		<script src="/socket.io/socket.io.js"></script>
    	<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		

		<!-- bootsrap-->
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" integrity="sha384-JcKb8q3iqJ61gNV9KGb8thSsNjpSL0n8PARn9HuZOnIxN0hoP+VmmDGMN5t9UJ0Z" crossorigin="anonymous">
		<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
		<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
		<!-- vue.js --> 
	
		
		
		<script src="https://cdn.jsdelivr.net/npm/vue"></script>

		<script type="text/javascript" src="vue.js"></script>


		<!-- ==================================== -->


		<script>
			var TURN = 1;  //第一次player_turn 會解鎖 button ，但有兩個人進來都會改
			var PLAYER_ID = 0 ; 
			let socket = io();
			var Env = null;
			var WALL_DIR = "Default";

			direct_dic = {
						"E" : "東",
						"S" : "南",
						"W" : "西",
						"N" : "北"
					}
			
			

			
			//message
			var num_message = 0; 
			var MAX_MESSAGE = 19;
			


			
			//信息版
			function addMessage(Text){
				if(num_message>= MAX_MESSAGE){
					$("#message div:nth-child(1)").remove();
				}

				if(num_message %2 ==0){
					$("#message").append("<div class=\"message_div\" style=\"background-color:#F5FFFA;\">"+Text+"</div>");
				} 
				else{
					$("#message").append("<div class=\"message_div\" style=\"background-color:#DCDCDC\">"+Text+"</div>");
				}
				num_message+=1;
			}
			
			//標示
			function Alert(text,title="通知"){
				
				$('#alert_pop').modal('toggle');
				$("#alert_content").text(text);
				$('#alert_title').text(title);
			}

			//戰報
			function combatReportOneline(text){
				text+="<br>"
				$("#combat_report_content").prepend(text);
			}

			//socket區
			//選擇玩家  ==============================================================================
			socket.on("welcome",(player1HasBeenChoosen , player2HasBeenChoosen  )=>{ //when start,hide the main page to let player select charcters.
						// 重新初始化
						PLAYER_ID = 0;	
						
						$("#pl1").attr('disabled',false);
						$("#pl2").attr('disabled',false);
						$("#pl1").show();
						$("#pl2").show();
						$("#pl1").text("帝國之眼");
						$("#pl2").text("帝國賢者");
						$("#pl").text("請選擇角色");

						if(player1HasBeenChoosen){
							$("#pl1").attr('disabled',true);
							$("#pl1").text("player1 has been choosed");
						}
						
						if(player2HasBeenChoosen){
							$("#pl2").attr('disabled',true);
							$("#pl2").text("player2 has been choosed");
						}
						$("#choose_player").show();
						
						// 需要改進??
						$(".LEFT").hide();
						$(".RIGHT").hide();
						$(".alert").hide();
						$("#game_over").hide();
						
				})

			socket.on("player_choosed", (id)=>{ 

						if(id==1){
							
							$("#pl1").attr('disabled',true);
							$("#pl1").text("player2 has been choosed");
							
						}else if(id==-1){
							$("#pl2").attr('disabled',true);
							$("#pl2").text("player2 has been choosed");
							
						}
				})

			socket.on("start_game",()=>{
				
				
				
			
				//基礎設定
				if( -1 == PLAYER_ID){
					$(".choice_button").attr('disabled', false);
				}
				
				round = 1;
				$("#choose_player").hide();
				$(".detail_choose").hide();
			
				//放入玩家名
				if(PLAYER_ID == 1){
					$("#player_name").text("上半天");
				}
				else{
					$("#player_name").text("下半天");
				}

				$(".LEFT").show();
				$(".RIGHT").show();
				
				//基礎文本
				$("#start_game_alert").modal("toggle")
				
				
				/*
				$("#my_item_2").hide();
				$("#my_item_content_2").hide();
				$("#item_sub_accept_1").hide();
				$("#item_sub_accept_2").hide();
				$("#item_sub_deny").hide();
				$("#action_pray").hide(); */
			})	
			
			socket.on("player_turn" , ()=>{
				TURN *= -1;
				
			//	console.log(TURN);
			//	console.log(PLAYER_ID)
			// 鎖住行動button
				if(TURN == PLAYER_ID){
					$(".choice_button").attr('disabled', false);
				}
				else{
					$(".choice_button").attr('disabled', true);
				}
				
				$(".detail_choose").hide();
				$("#choose_basic_action").show();

		
	
			})


			// 接受訊息
			socket.on("player_msg" , (msg)=>{
				addMessage(msg);
			})
			//========  ==============================================================================	

			//接收斥侯傳送回來的報告
			
			
			socket.on("scout_report" , (dir , location)=>{
				Title = "偵查報告"
				if (location != -1){
					if(location!=0){
						var msg = "你的斥侯隊告訴你在"+direct_dic[dir]+"方向"+location+"公里處有敵人";
					}
					else{
						var msg = "你的斥侯隊告訴你在"+direct_dic[dir]+"方向的城門下有敵人!";
					}
				}
				else{
					var msg = "此方向尚未發現任何敵人!"
				}

				Alert(text=msg,title=Title);
			})
			
			// ==================

			// 結束一回合要做的事
			socket.on("turn_end", (dice_result)=>{
				// 戰報紀錄加上天數
				combatReportOneline("=======================第"+(Env.round+1)+"天=======================<br>")
				if(dice_result<=20){

					addMessage("城中壓抑的紛圍越來越嚴重")
					addMessage("你抱著忐忑的心情迎接明天")
				}
				else{
					addMessage("今天似乎又有驚無險的度過了...")
				}
				addMessage("趁著空檔帝國後勤隊為你運來了500木頭");
			})
			//========  ==============================================================================	
			// 每一回和更新使用者的狀態
			socket.on("update_state", (env)=>{  //更新狀態
				Env = env;
				

				// 基本數值更新區
				$("#round").text(env.round);
				$("#east_hp").text(env.roads["E"].wallhp);
				$("#wood").text(env.wood);
				$("#south_hp").text(env.roads["S"].wallhp);
				$("#west_hp").text(env.roads["W"].wallhp);
				$("#north_hp").text(env.roads["N"].wallhp);
				

				$("#num_archer").text(env.num_of_troop["archer"]);
				$("#num_armor").text(env.num_of_troop["armor"]);
				$("#num_ranger").text(env.num_of_troop["ranger"]);
				// ========================================================================================
				
				// progress bar 調整
				$("#W-wall-bar").css("width" , (env.roads["W"].wallhp*100/env.maxWallhp).toString()  + "%");
		
				$("#W-wall-bar").text( (env.roads["W"].wallhp*100/env.maxWallhp).toString() + "%" );

				$("#E-wall-bar").css("width" , (env.roads["E"].wallhp*100/env.maxWallhp).toString()  + "%");
				$("#E-wall-bar").text( (env.roads["E"].wallhp*100/env.maxWallhp).toString() + "%");

				$("#N-wall-bar").css("width" , (env.roads["N"].wallhp*100/env.maxWallhp).toString()  + "%");
				$("#N-wall-bar").text( (env.roads["N"].wallhp*100/env.maxWallhp).toString()  + "%");

				$("#S-wall-bar").css("width" , (env.roads["S"].wallhp*100/env.maxWallhp).toString()  + "%");
				$("#S-wall-bar").text( (env.roads["S"].wallhp*100/env.maxWallhp ).toString() + "%");
				// ========================================================================================
			}
			)
			// 戰報通知
			socket.on("combat_report",(report)=>{
				console.log(report.length)
				if(report.length>0){
					$("#combat_report").empty();
					$("#combat_report").append("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bar-chart-line\" viewBox=\"0 0 16 16\">\
								<path d=\"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2z\"/>\
					</svg>")
				}
				for(var i = 0 ; i< report.length ; i++)
				{
					
					combatReportOneline(report[i]);
				}
				

			})

			

			// ============================================================================================

			// game over 
			socket.on("gameover", ()=> {
				$("#game_over").show();
				$(".LEFT").hide();
				$(".RIGHT").hide();
				$(".alert").hide();
				var Text ="城牆應聲倒下\n 鐵銹味與尖叫聲瞬間充斥城內\n 而帝國的野心大概也會隨之落幕...\n "; 
				Alert(text=Text);
				$("#alert_button").attr('disabled',false);
			})

			

			// jQuery , 按鈕與互動  ========================================================================
			$(document).ready(()=>{
				//初始化tooltip 訊息
				$(function () {
					$('[data-toggle="tooltip"]').tooltip()
					})
				//選擇玩家 按鈕 ========================
				/*
				$("#pl1").click(()=>{
					PLAYER_ID = 1;
					$("#pl1").hide();
					$("#pl2").hide();
					$("#pl").text("你是玩家1");
					socket.emit("choose_character", 1);
				});
				$("#pl2").click(()=>{
					PLAYER_ID = -1;
					$("#pl1").hide();
					$("#pl2").hide();
					$("#pl").text("你是玩家2");
					socket.emit("choose_character", -1);
				});
				*/
				//========  ==============================================================================	
				
				// id :  1 : archer , 2 : armor
				$("#choose_troop_move").click(()=>{
					 $("#choose_basic_action").hide();
					 $("#move_troop").show();
					 $("#go-back").show();
				}
				)

				$("#choose_recruit_troop").click(()=>{
					$("#choose_basic_action").hide();
					$("#recruit_troop").show();
					$("#go-back").show();

				})
				
				$("#choose_repair_wall").click(()=>{
					$("#choose_basic_action").hide();
					$("#repair_wall").show();
					$("#go-back").show();
    
				})
	            
				$("#choose_scout").click(()=>{
					$("#choose_basic_action").hide();
					$("#scout").show();
					$("#go-back").show();
    
				})


				$("#go-back ").click(()=>{
					$(".detail_choose").hide();
					$("#choose_basic_action").show();
				})
				//========  ==============================================================================	
				// move troop button =====================================================================
				
				$(".troop_move").click(function(e){
					
					troop_type = e.target.getAttribute("type");
					dir = e.target.getAttribute("dir");
					troop_name = "沒有";
					console.log(troop_type , dir)
					dir_name = "X";
					class move_troop {
						constructor(troop_type,dir){
							this.type ='move_army';
							this.troop_type = troop_type ;
							this.direction = dir
						}
					}
				
					can_move = true;
					if(troop_type == "archer" && Env.num_of_troop["archer"] > 0   ){
						action = new move_troop(troop_type,dir);
						troop_name= "弓箭";
						dir_name = direct_dic[dir];
						
					}
					else if(troop_type == "armor" && Env.num_of_troop["armor"] > 0   ){
						action = new move_troop(troop_type,dir);
						troop_name="重甲步兵";
						dir_name = direct_dic[dir];
					}
					else if(troop_type == "ranger" && Env.num_of_troop["ranger"] > 0  ){
						action = new move_troop(troop_type,dir);
						troop_name="騎兵";
						dir_name = direct_dic[dir];
					}
					else{
						Alert(text="你沒有可移動的士兵");
						can_move=false;
					}
					
					if(can_move){
						var msg = "你調動了一隊"+troop_name+"隊前往"+dir_name+"方";
						socket.emit("action_done" , PLAYER_ID , action,msg);
					}
					
				})

				//========================================================================================

				//  偵查 button  ================================================================================
				$(".scout_dir ").click(function(e){
					
					var dir = e.target.getAttribute("Dir");;
					class scout {
						constructor(dir){
							this.type ='scout';
							this.scout_dir = dir
						}
					}
					action = new scout(dir);

					var msg = "你派出了斥侯隊前往"+direct_dic[dir]+"方，查看情況...";
					socket.emit("action_done" , PLAYER_ID , action, msg);
					
					


				})
				//      ========================================================================================



				// recruit_troop wall button ====================================================================
				$(".recruit_troop").click(function(e){

					troop_type = e.target.id;
					troop_name = "沒有";
					class recruit_troop {
						constructor(troop_type){
							this.type ='recruit';
							this.troop_type = troop_type ;
						}
					}
					can_recruit = true;
					if(troop_type == "archer" && Env.wood >= 1000  ){
						action = new recruit_troop(troop_type);
						troop_name= "弓箭";
						
					}
					else if(troop_type == "armor" && Env.wood >= 500  ){
						action = new recruit_troop(troop_type);
						troop_name="重甲步兵";
					}
					else if(troop_type == "ranger" && Env.wood >= 2000 ){
						action = new recruit_troop(troop_type);
						troop_name="騎兵";
					}
					else{
						Alert(text="你沒有足夠的木頭招募士兵");
						can_recruit=false;
					}
					
					if(can_recruit){
						var msg = "你招募了一隊"+troop_name+"隊!";
						socket.emit("action_done" , PLAYER_ID , action,msg);
					}
					
				})

				//========  ==============================================================================	

				// repair wall button ====================================================================
				$(".repair_wall_dir ").click(function(e){
					
					WALL_DIR = e.target.getAttribute("Dir");;
			
					// 計算可以修補的選項
					if( Env.roads[WALL_DIR].wallhp == Env.maxWallhp){
						
						Alert(text="此面城牆完好無損，不需要維修!")

					}
					else{
						$('#repair_wall_pop').modal('toggle');
						$("#repair_wall_select").empty()
						for(var i=1; i<= parseInt((Env.maxWallhp-Env.roads[WALL_DIR].wallhp)/100) ; i++){
						 	$("#repair_wall_select").append("<option value=\""+i+"\">"+i+"</option>") 
						}
					}


				})

				$("#submit_repair_wall").click(()=>{
					
					var repair_value = parseInt(document.getElementById("repair_wall_select").value); //repair value, 是以個位數為單位(要記得*100)
					if (Env.wood < repair_value*100){
						Alert(text="你沒有足夠的木頭修城牆");
					}
					else{
						class repair_wall {
							constructor(dir,unit){
								this.type ='repair_wall';
								this.direction =  dir;
								this.unit = unit ;
							}
						}
						
						
						console.log(repair_value);
						action = new repair_wall(WALL_DIR,repair_value);
						var msg = "維修了"+direct_dic[WALL_DIR]+"方牆"+repair_value*100+"點"
						
						socket.emit("action_done" , PLAYER_ID , action,msg);
					}
				})
				
			


				//========  ==============================================================================	
				// skip  =================================================================================
				$("#skip").click(function(e){
					class skip {
						constructor(){
							this.type ='skip';
						}
					}
					action = new skip();
					var msg="你覺得養精蓄銳比較重要，於是這半天休息";
					socket.emit("action_done" , PLAYER_ID , action, msg);
				})
				//========  ==============================================================================	 
				

				//========================show detail state==========================================================
				
				$(".show_state").click(function(event) {     
					$(this).next().toggle();
			    
				});
				
				//========================================================================================

			
				//===================== battle log show =============================================================
				$("#combat_report").click(function(event) {     
					$("#combat_report").empty();
					$("#combat_report").append("<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-bar-chart-line\" viewBox=\"0 0 16 16\">\
							<path d=\"M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z\"/>\
						  </svg>")
					$("#combat_report_pop").modal('toggle');
					
					
					


				});

				//====================================================================================================
				

				//================= restart_game =====================================================================
				$("#restart").click(function() {     

					socket.emit("new_game");
					
				});


				})
		</script>



	</head>
	
	




	<body>
   
	<!-- 選角畫面 ======================          -->
	
	<div id="choose_player">
		<div style="text-align: center">
	<img src="title.PNG" >
			</div>
			
	<div style="text-align: center">
		<p id="pl">請選擇角色</p>
		<button v-on:click="Click($event)"  class="btn btn-info" id="pl1" value=1>帝國之眼</button>
		  <button  v-on:click="Click($event)" class="btn btn-info" id="pl2" value=-1>帝國賢者</button>
		</div>
	


	
	</div>
	<!-- ======================================  -->


	<!-- 結束畫面 ======================          -->
	<div id="game_over">
		<div style="text-align: center">
		<img src="gameover.PNG" >
		</div>	
		<div style="text-align: center">
		<button class="btn btn-info" id="restart">重新開始</button>
		</div>
		
	</div>
		<!-- ======================================  -->
	
	
	<!-- alert  -->
	

	


	<div class="LEFT">
	



    <!-- our status showing below-->
	<!-- ==================================== -->
	<div class="LEFT_TOP">
		<!--屬性欄，此div為最外框-->
    	<div id="status" > <div>當前狀態 <span id="player_name"> </span> </div>   
			<div id="my_basic-data">
				<!--基本數值-->
				<div>你堅守了<span id="round"> 1 </span>天</div>
				<div id="resource_state">  內政狀態
					<button class="show_state">
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bank" viewBox="0 0 16 16">
						<path d="M8 .95 14.61 4h.89a.5.5 0 0 1 .5.5v2a.5.5 0 0 1-.5.5H15v7a.5.5 0 0 1 .485.379l.5 2A.5.5 0 0 1 15.5 17H.5a.5.5 0 0 1-.485-.621l.5-2A.5.5 0 0 1 1 14V7H.5a.5.5 0 0 1-.5-.5v-2A.5.5 0 0 1 .5 4h.89L8 .95zM3.776 4h8.447L8 2.05 3.776 4zM2 7v7h1V7H2zm2 0v7h2.5V7H4zm3.5 0v7h1V7h-1zm2 0v7H12V7H9.5zM13 7v7h1V7h-1zm2-1V5H1v1h14zm-.39 9H1.39l-.25 1h13.72l-.25-1z"/>
					  </svg>
					</button>
				
				<div>
				
						<div>木頭: 
						<span id="wood">500 </span> </div>

						<br>
				</div>
			   </div>

				<div id="wall_state"> 城牆狀態 
					<button class="show_state">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bricks" viewBox="0 0 16 16">
							<path d="M0 .5A.5.5 0 0 1 .5 0h15a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H14v2h1.5a.5.5 0 0 1 .5.5v3a.5.5 0 0 1-.5.5H.5a.5.5 0 0 1-.5-.5v-3a.5.5 0 0 1 .5-.5H2v-2H.5a.5.5 0 0 1-.5-.5v-3A.5.5 0 0 1 .5 6H2V4H.5a.5.5 0 0 1-.5-.5v-3zM3 4v2h4.5V4H3zm5.5 0v2H13V4H8.5zM3 10v2h4.5v-2H3zm5.5 0v2H13v-2H8.5zM1 1v2h3.5V1H1zm4.5 0v2h5V1h-5zm6 0v2H15V1h-3.5zM1 7v2h3.5V7H1zm4.5 0v2h5V7h-5zm6 0v2H15V7h-3.5zM1 13v2h3.5v-2H1zm4.5 0v2h5v-2h-5zm6 0v2H15v-2h-3.5z"/>
						  </svg>
					</button>
				<div>
				<div>東: <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-right" viewBox="0 0 16 16">
					<path fill-rule="evenodd" d="M6 8a.5.5 0 0 0 .5.5h5.793l-2.147 2.146a.5.5 0 0 0 .708.708l3-3a.5.5 0 0 0 0-.708l-3-3a.5.5 0 0 0-.708.708L12.293 7.5H6.5A.5.5 0 0 0 6 8zm-2.5 7a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5z"/>
				  </svg>  
				<span id="east_hp"> 1000</span> </div>

				<div class="progress">
					<div id="E-wall-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="70"
					aria-valuemin="0" aria-valuemax="100" style="width:70%">
					  70%
					</div>
				</div>
		     	

				<div>南: 
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-down" viewBox="0 0 16 16">
						<path fill-rule="evenodd" d="M1 3.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5zM8 6a.5.5 0 0 1 .5.5v5.793l2.146-2.147a.5.5 0 0 1 .708.708l-3 3a.5.5 0 0 1-.708 0l-3-3a.5.5 0 0 1 .708-.708L7.5 12.293V6.5A.5.5 0 0 1 8 6z"/>
					</svg>
					
				<span id="south_hp"> 1000 </span> </div>
				
				<div class="progress">
					<div id="S-wall-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="70"
					aria-valuemin="0" aria-valuemax="100" style="width:70%">
					  70%
					</div>
				</div>
	


				<div>西: 
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-left" viewBox="0 0 16 16">
						<path fill-rule="evenodd" d="M12.5 15a.5.5 0 0 1-.5-.5v-13a.5.5 0 0 1 1 0v13a.5.5 0 0 1-.5.5zM10 8a.5.5 0 0 1-.5.5H3.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L3.707 7.5H9.5a.5.5 0 0 1 .5.5z"/>
					</svg>
					
				<span id="west_hp"> 1000 </span> </div>
				
				<div class="progress">
					<div id="W-wall-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="70"
					aria-valuemin="0" aria-valuemax="100" style="width:70%">
					  70%
					</div>
				</div>
	
				<div>北:
					<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-arrow-bar-up" viewBox="0 0 16 16">
						<path fill-rule="evenodd" d="M8 10a.5.5 0 0 0 .5-.5V3.707l2.146 2.147a.5.5 0 0 0 .708-.708l-3-3a.5.5 0 0 0-.708 0l-3 3a.5.5 0 1 0 .708.708L7.5 3.707V9.5a.5.5 0 0 0 .5.5zm-7 2.5a.5.5 0 0 1 .5-.5h13a.5.5 0 0 1 0 1h-13a.5.5 0 0 1-.5-.5z"/>
					  </svg>
					<span id="north_hp"> 1000 </span> </div>
				<div class="progress">
					<div id="N-wall-bar" class="progress-bar progress-bar-striped progress-bar-animated" role="progressbar" aria-valuenow="70"
					aria-valuemin="0" aria-valuemax="100" style="width:70%">
					  70%
					</div>
				</div>
				</div>
				</div>

				<br>

				<div>軍隊狀態
					<button class="show_state">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-people" viewBox="0 0 16 16">
							<path d="M15 14s1 0 1-1-1-4-5-4-5 3-5 4 1 1 1 1h8zm-7.978-1A.261.261 0 0 1 7 12.996c.001-.264.167-1.03.76-1.72C8.312 10.629 9.282 10 11 10c1.717 0 2.687.63 3.24 1.276.593.69.758 1.457.76 1.72l-.008.002a.274.274 0 0 1-.014.002H7.022zM11 7a2 2 0 1 0 0-4 2 2 0 0 0 0 4zm3-2a3 3 0 1 1-6 0 3 3 0 0 1 6 0zM6.936 9.28a5.88 5.88 0 0 0-1.23-.247A7.35 7.35 0 0 0 5 9c-4 0-5 3-5 4 0 .667.333 1 1 1h4.216A2.238 2.238 0 0 1 5 13c0-1.01.377-2.042 1.09-2.904.243-.294.526-.569.846-.816zM4.92 10A5.493 5.493 0 0 0 4 13H1c0-.26.164-1.03.76-1.724.545-.636 1.492-1.256 3.16-1.275zM1.5 5.5a3 3 0 1 1 6 0 3 3 0 0 1-6 0zm3-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"/>
						  </svg>
					</button>
				<div>
					<div>弓箭隊:    <span id="num_archer"> 1 </span>    隊         </div>
					<div>重步兵隊:    <span id="num_armor"> 0 </span>   隊          </div>
					<div>騎兵隊:    <span id="num_ranger"> 0 </span>    隊         </div>
				</div>
				</div>
				<br>
				<div>交戰記錄
					<button id="combat_report">
						<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-bar-chart-line" viewBox="0 0 16 16">
							<path d="M11 2a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v12h.5a.5.5 0 0 1 0 1H.5a.5.5 0 0 1 0-1H1v-3a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v3h1V7a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1v7h1V2zm1 12h2V2h-2v12zm-3 0V7H7v7h2zm-5 0v-3H2v3h2z"/>
						  </svg>
					</button>
				</div>
			</div>		

        </div> <!-- id=LEFT_TOP closing tag , this section ending here-->

	<!-- all status showing above-->
	<!-- ==================================== -->

	
	
        </div><!-- id=status closing tag , this section ending here-->
	<!-- all status showing above-->
	<!-- ==================================== -->


	

	<!-- all buttons or something user interaction below-->
	<!-- ==================================== -->
	<div class="LEFT_BOTTOM">
		
			<div id="my_mission">操作</div>
			





			<!--  基本操作  -->
			<div id = "choose_basic_action">
			你這回合選擇
			<button class="choice_button btn btn-dark" id="choose_scout">偵查</button>
			<button class="choice_button btn btn-dark" id="choose_troop_move">調度軍隊</button>
			<button class="choice_button btn btn-dark" id="choose_recruit_troop">招募士兵</button>
			<button class="choice_button btn btn-dark" id="choose_repair_wall">修築城牆</button>
			<button class="choice_button btn btn-dark" id="skip">跳過這回合</button>

		    </div>
     

			<!--  偵查  -->
			<div class= "detail_choose" id = "scout"> 
				<div>選擇偵查方向  </div>  
				<div  > <button  class="scout_dir" Dir="E"  >東</button>  </div>
				<div > <button class="scout_dir"  Dir="S"  >南</button> </div> 
			    <div > <button  class="scout_dir"  Dir="W" >西</button>  </div>
				<div > <button class="scout_dir"  Dir="N"  >北</button>  </div>
			
			
			
			</div>
			<!--   =======================================   -->		


		
			<!--   =======================================   -->
			
		

			<!--  移動士兵-->
			<div class= "detail_choose" id = "move_troop"> 
				<div>選擇移動兵種  </div>  
				<div  class="troop_move_btn" v-for="item in items" :key="item.content"> 弓箭隊 <button class="troop_move" type="archer" dir="E">東 </button> <button class="troop_move" type="archer" dir="S">南 </button> <button class="troop_move" type="archer" dir="W" >西 </button> <button class="troop_move" type="archer" dir="N">北 </button></div>
				<div  class="troop_move_btn" v-for="item in items" > 重甲步兵隊 <button class="troop_move" type="armor" dir="E">東 </button> <button class="troop_move" type="armor" dir="S">南 </button> <button class="troop_move" type="armor" dir="W"  >西 </button> <button class="troop_move" type="armor" dir="N">北 </button></div>
			    <div  class="troop_move_btn" v-for="item in items"> 騎兵隊 <button class="troop_move" type="ranger" dir="E">東 </button> <button class="troop_move" type="ranger" dir="S">南 </button> <button class="troop_move" type="ranger" dir="W" >西 </button> <button class="troop_move" type="ranger" dir="N">北 </button></div> 
			</div>



			<!--   =======================================   -->



			<!--  招募士兵  -->
			<div class= "detail_choose" id = "recruit_troop"> 
				<div>選擇招募兵種  </div>  
				<div  > 
					<button  type="button" class="btn btn-danger recruit_troop" data-toggle="tooltip" data-placement="right" data-html="true" title="需要: 1000木頭 <br> 射程:遠距離 <br> 每隊攻擊力:100 <br> 移動能力:無 <br>承受傷害能力:無<br> 敘述:由平民組成的弓箭隊，準度不佳，但至少會拉弓，站在附近唯一高處的四面城牆上射擊，城牆倒下之前不會被消滅，木頭大部分用於製作木箭"   id="archer" >弓箭隊</button>   
				   
				
				</div>
				<br>
				<div > 
					<button  type="button" class="btn btn-danger recruit_troop" data-toggle="tooltip" data-placement="right" data-html="true" title="需要: 500木頭 <br> 射程:近戰 <br> 每隊攻擊力:50 <br> 移動能力:日行1公里<br> 承受傷害能力:1000 <br> 敘述:由平民組成的步兵隊，拿著草叉、斧頭...工具就出征了，你不相信他們能擊殺敵人，但相信他們能拖延敵人，木頭幾乎用在製作木製鎧甲" id="armor" >重甲步兵隊</button>  
				
				</div>
				<br>
			    <div > 
					<button  type="button" class="btn btn-danger recruit_troop" data-toggle="tooltip" data-placement="right"  data-html="true" title="需要: 2000木頭 <br> 射程:近戰 <br> 每隊攻擊力:300 <br> 移動能力:日行3公里<br> 承受傷害能力:500 <br> 敘述:前帝國軍隊士兵組成，至少有基本的戰鬥技巧與騎術，還有之前留下的鏽跡斑斑的武器，木頭用在他們的軍餉與馬的飼料"  id="ranger"> 騎兵隊 </button>  
				
				</div>
				<br>
			
			
			</div>
			<!--   =======================================   -->			
			
			<!--   修城牆  -->
			<div class= "detail_choose" id = "repair_wall">  
				<div>選擇修補方向  </div>  
				<div  > <button  class="repair_wall_dir " Dir="E"  >東</button>  </div>
				<!-- 按下去就先選擇wall direction -->
				


				


				<div > <button class="repair_wall_dir " Dir="S"  >南</button> </div> 
			    <div > <button  class="repair_wall_dir " Dir="W" >西</button>  </div>
				<div > <button class="repair_wall_dir " Dir="N"  >北</button>  </div>


				<!---  這是一個彈出視窗，可以選擇城牆數量-->
				<div class="modal" id="repair_wall_pop" tabindex="-1" role="dialog">
					<div class="modal-dialog" role="document">
					  <div class="modal-content">
						<div class="modal-header">
						  <h5 class="modal-title">建築工向你報告</h5>
						  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
							<span aria-hidden="true">&times;</span>
						  </button>
						</div>
						<div class="modal-body">
							<!-- 這是一個選擇條-->
							<div class="form-group">
								<label for="exampleFormControlSelect1">選擇城牆修築數量</label>
								<select class="form-control" id="repair_wall_select">
								  <!--按下 按鈕會由jQuery 生成合法選項-->
								</select>
							  </div>
						</div>
						<div class="modal-footer">
						  <button type="button" class="btn btn-primary" data-dismiss="modal" id="submit_repair_wall">送出並結束回合</button>
						  <button type="button" class="btn btn-secondary" data-dismiss="modal" >返回</button>
						</div>
					  </div>
					</div>
				  </div>
				<!-- end of pop window-->
				


			</div>
			
			
			<button class="detail_choose" , id="go-back"> 返回</button>
			<!--   =======================================   -->
			



	</div>

	</div>
	<div class="RIGHT">
	<!-- show message below--> 
			<!-- ==================================== -->
			
			<div id="message">message
		

			</div>
			
			
			<!-- show message above--> 
			<!-- ==================================== -->

		
			
			

	</div> 


		<!---  這是一個彈出視窗，用來警告-->
	
		
			<div class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" id="alert_pop">
				<div class="modal-dialog modal-dialog-centered" role="document">
					<div class="modal-content">
					<div class="modal-header">
						<h5 class="modal-title" id="alert_title">Alert</h5>
						<button type="button" class="close" data-dismiss="modal" aria-label="Close">
						<span aria-hidden="true">&times;</span>
						</button>
					</div>
					<div class="modal-body" id="alert_content">
							...
					</div>
					<div class="modal-footer">
						<button type="button" class="btn btn-secondary" data-dismiss="modal" id="alert_button">OK</button>
		
					</div>
					</div>
				</div>
				</div>	

		<!-- ======================================  -->

	<!--文本跳出視窗-->
	<div class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" id="start_game_alert">
		<div class="modal-dialog modal-dialog-centered" role="document">
			<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title" >Story</h5>
				<button type="button" class="close" data-dismiss="modal" aria-label="Close">
				<span aria-hidden="true">&times;</span>
				</button>
			</div>
			<div class="modal-body">
				"森林之母已怒不可遏，樹木之罰將降於貪婪之人"<br>
				神木教教徒今天也如是說道<br>
				就在你不以為然的同時<br>
				城外遠處的森林傳來了數聲巨響<br>
				接著是護城弓箭隊的回報<br>
				仿佛傳說中遠古巨人般的<br>
				眾多樹型妖怪正在逼近你的城市.....<br>
				你必須當機立斷的竭全城之力才有可能活下去!<br>
			</div>
			<div class="modal-footer">
				<button type="button" class="btn btn-secondary" data-dismiss="modal" id="start_game_alert_ok">Game Start</button>

			</div>
			</div>
		</div>
		</div>	
		<!-- ======================================  -->

		<!-- 戰報跳出視窗-->

		<div class="modal fade"  tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true" id="combat_report_pop">
			<div class="modal-dialog modal-dialog-scrollable" role="document">
				<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" >交戰記錄</h5>
					<button type="button" class="close" data-dismiss="modal" aria-label="Close">
					<span aria-hidden="true">&times;</span>
					</button>
				</div>
				<div class="modal-body" id="combat_report_content" style="overflow:scroll;">
					=======================第1天=======================<br>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-dismiss="modal" id="combat_report_ok">OK</button>
	
				</div>
				</div>
			</div>
			</div>	

		<!-- ======================================  -->
</body>

<script src="vue.js"></script>
</html>
